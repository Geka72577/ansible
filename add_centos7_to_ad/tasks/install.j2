---

 - name: check if "{{ item }}" is installed
   yum:
     list="{{ item }}"
   register: is_installed

 - name: install "{{ item }}" if not exist
   yum:
    name: "{{ item }}"
    state: latest
   when:  (is_installed.results|length == 1) or (is_installed.results[1].yumstate != 'installed') 

